import{handleAddressInput}from"./address.js";import{activateInput,applyPromocode,changeQuantity,removeWare,updateState}from"./state.js";import{showSuccessMessage}from"./utils.js";import{commentValidation}from"./validation.js";const form=document.querySelector(".order-form"),buttonsWrappers=form.getElementsByClassName("count-selection__count-wrapper"),deleteButtons=form.getElementsByClassName("js-delete-button"),formContactImputs=form.querySelectorAll(".form-contacts__input"),formCommentInput=form.querySelector(".form-comment__input"),textarea=form.querySelector(".form-contacts__input--textarea"),promocode=form.querySelector(".promocode"),promocodeInput=promocode.querySelector(".promocode__input"),onFormSubmit=t=>{t.preventDefault();new FormData(t.target);showSuccessMessage()},showFormDataValues=t=>{const e=t.formData;for(const[t,o]of e.entries())console.log(`${t} : ${o}`)},initForm=()=>{for(const t of buttonsWrappers)t.addEventListener("click",changeQuantity);for(const t of deleteButtons)t.addEventListener("click",removeWare);formContactImputs.forEach(activateInput),formCommentInput.addEventListener("input",commentValidation),activateInput(promocodeInput),promocode.addEventListener("click",applyPromocode),textarea.addEventListener("input",handleAddressInput),form.addEventListener("submit",onFormSubmit),form.addEventListener("formdata",showFormDataValues),updateState()};export default initForm;