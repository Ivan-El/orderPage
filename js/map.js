import{setAddressInputValue}from"./address.js";import{getGeolocate}from"./api.js";let myMap;const initMap=()=>{myMap=new ymaps.Map("map",{center:[55.7522,37.6156],zoom:10,controls:["geolocationControl","typeSelector","fullscreenControl","zoomControl"]}),myMap.events.add("click",(function(e){const o=e.get("coords");loadAddress(o[0],o[1]),myMap.setCenter([o[0],o[1]],15,{duration:300,timingFunction:"ease-in"}),myMap.geoObjects.get(0).geometry.setCoordinates([o[0],o[1]])}));const e=new ymaps.Placemark(myMap.getCenter(),{hintContent:"Адрес доставки"},{iconLayout:"default#image",iconImageHref:"../img/map_pin.svg",iconImageSize:[27,39],iconImageOffset:[-13,-39]});myMap.geoObjects.add(e),myMap.cursors.push("arrow")};function loadAddress(e,o){getGeolocate(e,o,1).then((e=>e.json())).then((e=>setAddressInputValue(e.suggestions[0]))).catch((e=>{console.log("error",e)}))}export{myMap,initMap};